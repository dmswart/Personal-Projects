<html>
<head>
<script src='http://d3js.org/d3.v3.min.js'></script>
<script src='./dmslib_core.js'></script>
<script src='./dmslib_point2d.js'></script>
<script src='./dmslib_point3d.js'></script>
<script src='./dmslib_xfrm.js'></script>
<script src='./globemaker_segment.js'></script>
<script src='./globemaker_relative_position.js'></script>
<script src='./globemaker_skeleton.js'></script>
<script src='./globemaker_parse.js'></script>
<script src='./globemaker_optimizer.js'></script>
<script src='./globemaker_interpreter.js'></script>
</head>

<body>
<div style='width: 100%; height: 100%; overflow: hidden; position:relative;'>
    <img id='targetPicture' style='position:absolute; width:720px;' src=""/>
    <div id='output' style='width: 720px; position: absolute;'></div>
</div>
<div id='controls' style='position: absolute; left: 740px; top: 0px;'>
    <ul style="list-style: none;">
        <li> <textarea id="input" type="text" cols="40" rows="32" style="overflow:scroll" onchange="newSkeleton(this.value);">l 0</textarea> </li>
        <li> GridSize: <input type="number" min=25 max=200 value=100 onchange="newGridSize(this.value);"/>
        <li>
            <button onclick="optimizeToTarget();">Optimize</button>
            <b> Target: </b>
            <input type="file" onchange="onTargetSelected(event)" value="chose target">
        </li>
        <li> <button onclick="randomize();">Randomize</button> </li>
        <li/>
        <li>
            <button onclick="TheProgram();">TheProgram</button>
            <button onclick="nextTheProgram();">(next)</button>
        </li>
    </ul>
</div>

<div hidden>
    <img id='targetData' src=""/>
</div>
</body>

</html>

<script>
    setupPreview();
</script>
